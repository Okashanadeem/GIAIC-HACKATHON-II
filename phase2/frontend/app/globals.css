@tailwind base;
@tailwind components;
@tailwind utilities;

/**
 * Global Styles for UI Theme, Motion & Calm Experience
 * Feature: 006-ui-theme-motion
 */

@layer base {
  /**
   * Base dark theme styles
   * Applied to the root element for consistent dark mode
   */
  :root {
    color-scheme: dark;
  }

  html {
    @apply bg-background-base text-text-secondary;
  }

  body {
    @apply antialiased;
  }
}

@layer components {
  /**
   * Aurora Gradient Backgrounds
   * Vibrant multi-color gradients with animation support
   */
  .bg-gradient-morning {
    background: linear-gradient(
      135deg,
      rgba(168, 85, 247, 0.15) 0%,    /* Purple glow */
      rgba(236, 72, 153, 0.1) 25%,    /* Pink accent */
      rgba(10, 1, 24, 0.95) 50%,      /* Dark base transition */
      rgba(6, 182, 212, 0.08) 75%,    /* Cyan hint */
      rgba(10, 1, 24, 1) 100%         /* Base dark */
    );
  }

  .bg-gradient-afternoon {
    background: linear-gradient(
      135deg,
      rgba(59, 130, 246, 0.12) 0%,    /* Blue accent */
      rgba(168, 85, 247, 0.1) 30%,    /* Purple transition */
      rgba(10, 1, 24, 0.95) 50%,      /* Dark base transition */
      rgba(16, 185, 129, 0.08) 70%,   /* Green hint */
      rgba(10, 1, 24, 1) 100%         /* Base dark */
    );
  }

  .bg-gradient-evening {
    background: linear-gradient(
      135deg,
      rgba(139, 92, 246, 0.18) 0%,    /* Violet glow */
      rgba(217, 70, 239, 0.12) 25%,   /* Fuchsia accent */
      rgba(10, 1, 24, 0.95) 50%,      /* Dark base transition */
      rgba(168, 85, 247, 0.1) 75%,    /* Purple return */
      rgba(10, 1, 24, 1) 100%         /* Base dark */
    );
  }

  .bg-gradient-night {
    background: linear-gradient(
      135deg,
      rgba(168, 85, 247, 0.2) 0%,     /* Strong purple glow */
      rgba(236, 72, 153, 0.15) 30%,   /* Pink mid */
      rgba(10, 1, 24, 0.98) 50%,      /* Dark base transition */
      rgba(6, 182, 212, 0.1) 70%,     /* Cyan deep */
      rgba(8, 1, 20, 1) 100%          /* Deeper dark */
    );
  }

  /**
   * Aurora Animated Gradient
   * Dynamic shifting gradient background
   */
  .bg-aurora-animated {
    background: linear-gradient(
      -45deg,
      #a855f7,    /* Purple */
      #ec4899,    /* Pink */
      #3b82f6,    /* Blue */
      #06b6d4,    /* Cyan */
      #10b981     /* Green */
    );
    background-size: 400% 400%;
    animation: aurora-flow 15s ease-in-out infinite;
  }

  /**
   * Glassmorphism Utilities
   * Frosted glass effect for premium cards and panels
   */
  .glass-card {
    background: rgba(255, 255, 255, 0.05);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border: 1px solid rgba(255, 255, 255, 0.1);
    box-shadow: 0 8px 32px 0 rgba(168, 85, 247, 0.1);
  }

  .glass-card-strong {
    background: rgba(255, 255, 255, 0.08);
    backdrop-filter: blur(25px);
    -webkit-backdrop-filter: blur(25px);
    border: 1px solid rgba(255, 255, 255, 0.15);
    box-shadow: 0 8px 32px 0 rgba(168, 85, 247, 0.15);
  }

  .glass-panel {
    background: rgba(10, 1, 24, 0.7);
    backdrop-filter: blur(30px);
    -webkit-backdrop-filter: blur(30px);
    border: 1px solid rgba(168, 85, 247, 0.2);
  }

  /**
   * Glow Effects
   * Neon glow for interactive elements
   */
  .glow-purple {
    box-shadow: 0 0 20px rgba(168, 85, 247, 0.5),
                0 0 40px rgba(168, 85, 247, 0.3);
  }

  .glow-purple-hover:hover {
    box-shadow: 0 0 30px rgba(168, 85, 247, 0.6),
                0 0 60px rgba(168, 85, 247, 0.4),
                0 0 100px rgba(168, 85, 247, 0.2);
  }

  .glow-pink {
    box-shadow: 0 0 20px rgba(236, 72, 153, 0.5),
                0 0 40px rgba(236, 72, 153, 0.3);
  }

  .glow-cyan {
    box-shadow: 0 0 20px rgba(6, 182, 212, 0.5),
                0 0 40px rgba(6, 182, 212, 0.3);
  }

  .text-glow-purple {
    text-shadow: 0 0 10px rgba(168, 85, 247, 0.8),
                 0 0 20px rgba(168, 85, 247, 0.5);
  }

  .text-glow-pink {
    text-shadow: 0 0 10px rgba(236, 72, 153, 0.8),
                 0 0 20px rgba(236, 72, 153, 0.5);
  }

  /**
   * Focus ring utility
   * Consistent focus states across the UI
   */
  .focus-ring {
    @apply focus:outline-none focus:ring-2 focus:ring-accent-primary focus:ring-offset-2 focus:ring-offset-background-base;
  }

  /**
   * Card surface utility
   * Consistent card/container styling
   */
  .surface-card {
    @apply bg-background-elevated border border-border-subtle rounded-lg;
  }

  /**
   * Input surface utility
   * Consistent input field styling
   */
  .surface-input {
    @apply bg-background-surface border border-border-subtle rounded-md;
    @apply text-text-primary placeholder:text-text-muted;
    @apply transition-colors duration-fast;
    @apply focus:border-accent-primary focus:outline-none focus:ring-1 focus:ring-accent-primary;
  }
}

@layer utilities {
  /**
   * Reduced Motion Support
   * Respects user's motion preferences for accessibility (FR-018, SC-004)
   *
   * When prefers-reduced-motion is enabled:
   * - All animations are effectively instant (0.01ms)
   * - All transitions are effectively instant (0.01ms)
   * - Opacity changes still occur (just instantly) to maintain visibility cues
   */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
      scroll-behavior: auto !important;
    }
  }

  /**
   * Motion-safe animations
   * Only apply animations when user hasn't requested reduced motion
   */
  @media (prefers-reduced-motion: no-preference) {
    .animate-safe {
      @apply transition-all duration-normal;
    }
  }

  /**
   * Scrollbar styling
   * Subtle, calm scrollbar that matches the dark theme
   */
  .scrollbar-calm {
    scrollbar-width: thin;
    scrollbar-color: theme('colors.border.subtle') transparent;
  }

  .scrollbar-calm::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }

  .scrollbar-calm::-webkit-scrollbar-track {
    background: transparent;
  }

  .scrollbar-calm::-webkit-scrollbar-thumb {
    background-color: theme('colors.border.subtle');
    border-radius: 3px;
  }

  .scrollbar-calm::-webkit-scrollbar-thumb:hover {
    background-color: theme('colors.border.visible');
  }

  /**
   * Wow Layer â€“ Ambient Animation Keyframes
   * Feature: 006-ui-theme-motion (FR-032, FR-034, FR-035)
   *
   * Orbital Aurora Belt: Very slow rotation/scale (45-90s loop)
   * Calm Orbit Marker: Subtle pulse/rotate (10-15s loop)
   * All use only transform and opacity for 60fps performance
   */
  @keyframes orbital-rotate {
    0% {
      transform: rotate(0deg) scale(1);
    }
    50% {
      transform: rotate(180deg) scale(1.05);
    }
    100% {
      transform: rotate(360deg) scale(1);
    }
  }

  @keyframes orbital-rotate-reverse {
    0% {
      transform: rotate(360deg) scale(1.02);
    }
    50% {
      transform: rotate(180deg) scale(0.98);
    }
    100% {
      transform: rotate(0deg) scale(1.02);
    }
  }

  @keyframes orb-pulse {
    0% {
      transform: scale(1) rotate(0deg);
      opacity: 0.6;
    }
    50% {
      transform: scale(1.1) rotate(180deg);
      opacity: 0.8;
    }
    100% {
      transform: scale(1) rotate(360deg);
      opacity: 0.6;
    }
  }

  /* Ambient animation classes */
  .animate-orbital {
    animation: orbital-rotate 60s linear infinite;
  }

  .animate-orbital-reverse {
    animation: orbital-rotate-reverse 75s linear infinite;
  }

  .animate-orbital-slow {
    animation: orbital-rotate 90s linear infinite;
  }

  .animate-orb-pulse {
    animation: orb-pulse 12s ease-in-out infinite;
  }
}
